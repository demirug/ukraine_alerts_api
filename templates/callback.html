{% extends "base.html" %}
{% block title %}Callback{% endblock %}

{% block body %}
    <h3>Callback API</h3>
    <p>On state status change you received POST request to given url</p>
    <p>You should check if request <span style="padding: 3px; background-color: black; color:white; border-radius: 2px">X-API-Key</span> key equal to given signature to verify request</p>
    <hr>
    <h5>Usage example / Flask</h5>
    <img src="https://i.imgur.com/9dvsYhK.png" alt="">
    <hr>
    <h4>Buy callback functionality. Cost 1$</h4>
    <form method="post">
        {{ form.csrf_token }}

        {% for field in form if field.name != "csrf_token" %}
        <div class="mb-3">

            <label class="form-label">{{ field.label() }}</label>
            {% if field.type in ['BooleanField'] %}
                {{ field() }}
            {% else %}
                {{ field(class_="form-control") }}
            {% endif %}
            {% for error in field.errors %}
                <small class="form-text text-danger" style="color:red">{{ error }}</small>
            {% endfor %}
        </div>
        {% endfor %}
        <input type="submit">
    </form>
{% endblock %}